### 来自网络面经

#### HTTPS（安全超文本传输协议）是什么？

HTTPS是HTTP的安全版本，通过在HTTP上引入加密层(SSL Secure Sockets Layer/TLS Transport Layer Security)，实现了客户端与服务器之间的安全通信协议，目的是确保数据传输过程中的机密性、完整性和身份认证。

HTTPS的握手工作原理为：
- 首先进行TCP三次握手，此后开始HTTPS握手过程
- **客户端问候**阶段，客户端向服务端发送一个ClientHello消息，其中包括TLS版本、加密算法套件列表以及一个随机数。
- **服务端问候**阶段，服务端收到ClientHello消息后会认证TLS版本号是否支持，并从列表中选择一个加密套件，保存客户端随机数，并再生成一个随机数，发送ServerHello消息，其中包括确定的TLS版本、确认的加密套件，以及第二个随机数。除此之外，服务端还会向客户端发送自己的数字整数与公钥（Server Certificate）。
- **密匙交换**阶段，客户端通过CA机构验证服务端传来的服务器证书可信后，再生成一个随机数（预主密钥），并用收到的公钥进行加密后，发送给服务器。
再发送开始使用加密(Change CipherSpec)消息给服务端，此时服务端客户端都拿到了三个随机数，并都用这三个随机数生成会话密钥。
- 发送完CHange CipherSpec后客户端再发送Client Finished消息，这个消息会带上Encrypted Handshake Message，也就是之前发送的所有数据的摘要，并且使用会话密钥进行加密并传递给服务端验证，预防握手过程中信息被修改。
- 同理，服务端也发送Change Cipher Spec + Server finished代表后续要用加密数据传输，此时握手结束。

其中涉及：
非对称加密：身份验证、公钥加密与主密钥
对称加密：数据传输
哈希算法：保证完整性