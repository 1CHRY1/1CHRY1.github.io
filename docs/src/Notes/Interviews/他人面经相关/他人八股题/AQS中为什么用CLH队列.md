### 来自拼多多提前批一面

#### AQS中为什么用CLH队列而不用普通链表？

因为CLH是一种基于双端队列的自旋锁，它的内部维护了一个FIFO的队列，出入队时只需要CAS操作tail或head节点就可以实现，然后共同维护了一个全局可见的status变量保障锁的状态。线程的阻塞和唤醒也都是前驱节点来控制状态，避免了所有的线程共享一个变量上竞争的总线风暴问题。