### 来自网络面经

#### MySQL的ACID特性是怎么实现的？

ACID特性指的是原子性，一致性，隔离性和持久性。主要由锁、日志和事务来实现。锁保证隔离性，undolog保证一致性，redolog保证持久性。

- 原子性是指事务中的操作要么全部成功，要么全部失败回滚。MySQL通过UndoLog回滚日志实现原子性，在执行写操作前，会记录一条与之相反的操作到 Undo Log，当事务失败或执行 ROLLBACK 时，可以利用 Undo Log 撤销未完成的操作，从而保证事务的原子性。
- 一致性是指事务执行前后，数据库必须从一个一致状态转移到另一个一致状态。是通过外键约束、唯一约束来保证事务语义上的一致性，事务的原子性、隔离性和持久性也共同保证了事务结束时事务状态不会出错。
- 隔离性是指事务之间相互独立，避免出现 脏读、不可重复读、幻读等问题。同构锁机制、MVCC和不同的隔离级别实现隔离性。
- 持久性是指事务一旦提交，其结果永久保存，即使宕机也不会丢失。通过RedoLog（事务提交时，先写入 RedoLog，再写入数据页；数据库重启时也可以通过RedoLog重放来保证已提交事务不丢失）以及RedoLog+BinLog之间采用两阶段提交保证数据的一致性。