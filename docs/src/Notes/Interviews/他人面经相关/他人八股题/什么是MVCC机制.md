### 到处都有问这个的

#### 请说一下MySQL中的MVCC机制？

MVCC就是Multi-Version Concurrency Control, 是 InnoDB 存储引擎实现的一种非阻塞读（快照读）机制，允许数据库在高并发读写时依然保持性能和一致性。

在高并发场景下，如果每次读写都加锁，会严重影响数据库性能和吞吐量，MVCC就可以是西安读写不相互阻塞，提高并发的性能，是西安事务隔离的效果。

MVCC是通过 保存数据的多个版本来实现并发控制的。InnoDB 会在每一行记录后面隐藏两个字段：trx_id：创建（或修改）该版本的事务 ID，和roll_pointer：指向上一个版本（回滚日志中的记录）再配合当前事务的 Read View（读视图）来决定你能看到哪一个版本的数据。

假设你使用事务 A 查了一条数据，读取后事务 B 把它修改了并提交了，事务 A 还能看到原始数据。这就是 MVCC 的“多版本”能力：事务 A 看到的是自己事务开始时的版本，不是最新的。

MVCC支持读已提交和可重复读的隔离级别，一般是使用快照都的读取方式。