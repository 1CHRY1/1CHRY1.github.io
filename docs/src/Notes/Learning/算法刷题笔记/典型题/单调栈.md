## å•è°ƒæ ˆ

## ğŸ“‘ ç›®å½•
- [å•è°ƒæ ˆ](#å•è°ƒæ ˆ)
- [ğŸ“‘ ç›®å½•](#-ç›®å½•)
    - [å•è°ƒæ ˆä½¿ç”¨å¥—è·¯](#å•è°ƒæ ˆä½¿ç”¨å¥—è·¯)
    - [1ã€æ¯æ—¥æ¸©åº¦](#1æ¯æ—¥æ¸©åº¦)
    - [2ã€ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ](#2ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ )
    - [3ã€ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ 2](#3ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ 2)
    - [4ã€æ¥é›¨æ°´](#4æ¥é›¨æ°´)
    - [5ã€æŸ±çŠ¶å›¾ä¸­çš„æœ€å¤§çŸ©å½¢](#5æŸ±çŠ¶å›¾ä¸­çš„æœ€å¤§çŸ©å½¢)
- [**æ³¨æ„ï¼š**](#æ³¨æ„)

#### å•è°ƒæ ˆä½¿ç”¨å¥—è·¯



#### 1ã€æ¯æ—¥æ¸©åº¦

No.739

```java

public int[] dailyTemperatures(int[] temperatures) {
        int len = temperatures.length;
        int[] res = new int[len];
        Deque<Integer> stack = new ArrayDeque<Integer>();
        stack.push(0);
        for(int i = 1; i < len; ++ i){

            if (temperatures[i] <= temperatures[stack.peek()]){
                stack.push(i);
            } else{
                while (!stack.isEmpty() && temperatures[i] > temperatures[stack.peek()]) {
                    res[stack.peek()] = i - stack.peek();
                    stack.pop();
                }
                stack.push(i);
            }
        }
        return res;
    }

```

**æ ¸å¿ƒæ–¹æ³•ï¼šå•è°ƒæ ˆ**

**<font color=red>æ³¨æ„ï¼š</font>** 
- è‹¥å³å°†è¿›å…¥å…ƒç´ å¤§äºæ ˆé¡¶å…ƒç´ ï¼Œåˆ™å¾ªç¯å°†æ ˆä¸­å…ƒç´ å¡«å…¥ç»“æœ

#### 2ã€ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ 

No.496

```java

public int[] nextGreaterElement(int[] nums1, int[] nums2) {
        HashMap<Integer, Integer> map = new HashMap<>();
        for (int i = 0; i < nums1.length; i++) {
            map.put(nums1[i], i);
        }

        int[] res = new int[nums1.length];
        Stack<Integer> stack = new Stack<>();
        Arrays.fill(res, -1);

        for (int i = 0; i < nums2.length; i++) {
            while (!stack.isEmpty() && nums2[stack.peek()] < nums2[i]) {
                int pre = nums2[stack.pop()];
                if (map.containsKey(pre)) {
                    res[map.get(pre)] = nums2[i];
                }
            }
            stack.push(i);
        }

        return res;
    }

```

**æ ¸å¿ƒæ–¹æ³•ï¼šå•è°ƒæ ˆï¼ŒåŒä¸Š**

**<font color=red>æ³¨æ„ï¼š</font>** 
- æ²¡å•¥

#### 3ã€ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ 2

No.503

```java

public int[] nextGreaterElements(int[] nums) {
        if(nums == null || nums.length <= 1) {
            return new int[]{-1};
        }

        int len = nums.length;
        int[] res = new int[len];
        Arrays.fill(res,-1);
        Deque<Integer> stack= new LinkedList<Integer>();
        for (int i = 0; i < 2 * len; ++ i) {
            while (!stack.isEmpty() && nums[i % len] > nums[stack.peek()]) {
                res[stack.peek()] = nums[i % len];
                stack.pop();
            }
            stack.push(i % len);
        }
        return res;
    }

```

**æ ¸å¿ƒæ–¹æ³•ï¼šå•è°ƒæ ˆ**

**<font color=red>æ³¨æ„ï¼š</font>** 
- ç¯å½¢è¡¨å¯ç”¨2*lenæ¥éå†åˆ—è¡¨

#### 4ã€æ¥é›¨æ°´

No.42

```java

public int trap(int[] height) {
        int size = height.length;
        if (size <= 2) return 0;
        Stack<Integer> stack = new Stack<Integer>();
        stack.push(0);
        int sum = 0;
        for (int index = 1; index < size; index++){
            int stackTop = stack.peek();
            if (height[index] < height[stackTop]){
                stack.push(index);
            } else if (height[index] == height[stackTop]){
                stack.pop();
                stack.push(index);
            } else{
                int heightAtIdx = height[index];
                while (!stack.isEmpty() && (heightAtIdx > height[stackTop])){
                    int mid = stack.pop();
                    if (!stack.isEmpty()){
                        int left = stack.peek();

                        int h = Math.min(height[left], height[index]) - height[mid];
                        int w = index - left - 1;
                        int hold = h * w;
                        if (hold > 0) sum += hold;
                        stackTop = stack.peek();
                    }
                }
                stack.push(index);
            }
        }

        return sum;
    }

```

**æ ¸å¿ƒæ–¹æ³•ï¼šå•è°ƒæ ˆ**

**<font color=red>æ³¨æ„ï¼š</font>** 
- ä½¿ç”¨å•è°ƒæ ˆå­˜å‚¨å½“å‰è¯»å–åˆ°çš„é«˜åº¦
- è‹¥é«˜åº¦æ¯”æ ˆé¡¶é«˜ï¼Œåˆ™è¡¥æ»¡åˆ°æ ˆé¡¶å…ƒç´ ä¹‹é—´çš„æ°´é‡ï¼ŒçŸ¥é“å½“å‰é«˜åº¦æ¯”æ ˆé¡¶ä½ä¸ºæ­¢ã€‚

#### 5ã€æŸ±çŠ¶å›¾ä¸­çš„æœ€å¤§çŸ©å½¢

No.84

```java

public int largestRectangleArea(int[] heights) {
        Stack<Integer> st = new Stack<Integer>();
        
        // æ•°ç»„æ‰©å®¹ï¼Œåœ¨å¤´å’Œå°¾å„åŠ å…¥ä¸€ä¸ªå…ƒç´ 
        int [] newHeights = new int[heights.length + 2];
        newHeights[0] = 0;
        newHeights[newHeights.length - 1] = 0;
        for (int index = 0; index < heights.length; index++){
            newHeights[index + 1] = heights[index];
        }

        heights = newHeights;
        st.push(0);
        int result = 0;
        // ç¬¬ä¸€ä¸ªå…ƒç´ å·²å…¥æ ˆï¼Œä»ä¸‹æ ‡1å¼€å§‹
        for (int i = 1; i < heights.length; ++ i) {
            if (heights[i] > heights[st.peek()]) {
                st.push(i);
            } else if (heights[i] == heights[st.peek()]) {
                st.pop(); // è¿™ä¸ªå¯ä»¥åŠ ï¼Œå¯ä»¥ä¸åŠ ï¼Œæ•ˆæœä¸€æ ·ï¼Œæ€è·¯ä¸åŒ
                st.push(i);
            } else {
                while (heights[i] < heights[st.peek()]) {
                    int mid = st.peek();
                    st.pop();
                    int left = st.peek();
                    int right = i;
                    int w = right - left - 1;
                    int h = heights[mid];
                    result = Math.max(result, w*h);
                }
                st.push(i);
            }
        }
        return result;
    }

// ç²¾ç®€ç‰ˆ
public int largestRectangleArea(int[] heights) {
        int[] newHeight = new int[heights.length + 2];
        System.arraycopy(heights, 0, newHeight, 1, heights.length);
        newHeight[heights.length+1] = 0;
        newHeight[0] = 0;

        Stack<Integer> stack = new Stack<>();
        stack.push(0);

        int res = 0;
        for (int i = 1; i < newHeight.length; i++) {
            while (newHeight[i] < newHeight[stack.peek()]) {
                int mid = stack.pop();
                int w = i - stack.peek() - 1;
                int h = newHeight[mid];
                res = Math.max(res, w * h);
            }
            stack.push(i);

        }
        return res;
    }

```

**æ ¸å¿ƒæ–¹æ³•ï¼šå•è°ƒæ ˆ**

**<font color=red>æ³¨æ„ï¼š</font>** 
- 