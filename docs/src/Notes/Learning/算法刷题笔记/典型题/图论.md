## å›¾è®º

## ğŸ“‘ ç›®å½•
- [å›¾è®º](#å›¾è®º)
- [ğŸ“‘ ç›®å½•](#-ç›®å½•)
    - [å›¾çš„ç›¸å…³æ¦‚å¿µ](#å›¾çš„ç›¸å…³æ¦‚å¿µ)
    - [1ã€æ‰€æœ‰å¯è¾¾è·¯å¾„](#1æ‰€æœ‰å¯è¾¾è·¯å¾„)
    - [2ã€å²›å±¿æ•°é‡](#2å²›å±¿æ•°é‡)
    - [3ã€å²›å±¿æœ€å¤§é¢ç§¯](#3å²›å±¿æœ€å¤§é¢ç§¯)
    - [4ã€å­¤å²›æ€»é¢ç§¯](#4å­¤å²›æ€»é¢ç§¯)
    - [5ã€æ²‰é»˜å­¤å²›](#5æ²‰é»˜å­¤å²›)
    - [6ã€æ°´æµé—®é¢˜](#6æ°´æµé—®é¢˜)

#### å›¾çš„ç›¸å…³æ¦‚å¿µ

**ç§ç±»**ï¼šæœ‰å‘å›¾ï¼Œæ— å‘å›¾ï¼Œæƒå€¼

**åº¦**ï¼šæœ‰å¤šå°‘æ¡è¾¹è¿æ¥è¿™ä¸ªèŠ‚ç‚¹ï¼ˆå…¥åº¦ï¼Œå‡ºåº¦ï¼‰

**è¿é€šæ€§åˆ†ç±»**ï¼š
- è¿é€šå›¾ï¼šæ— å‘å›¾ä¸­ï¼Œå›¾çš„ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹éƒ½èƒ½åˆ°è¾¾å…¶ä¸­æ‰€æœ‰èŠ‚ç‚¹
- å¼ºè¿é€šå›¾ï¼šæœ‰å‘å›¾ä¸­ï¼Œ...
- è¿é€šåˆ†é‡ï¼šæ— å‘å›¾ä¸­çš„æå¤§è¿é€šå­å›¾
- å¼ºè¿é€šåˆ†é‡ï¼šæœ‰å‘å›¾ä¸­çš„ ...

**å›¾çš„æ„é€ **ï¼š
æœ´ç´ å­˜å‚¨: ç”¨int[]æˆ–mapå­˜å‚¨
é‚»æ¥çŸ©é˜µï¼šn*nçŸ©é˜µå­˜å‚¨ï¼ŒçŸ©é˜µä¸­å­˜å‚¨ç‚¹ä¹‹é—´å…³ç³»ï¼ˆé€‚åˆç¨ å¯†å›¾ï¼Œç©ºé—´å¤æ‚åº¦é«˜ï¼‰
é‚»æ¥è¡¨ï¼šæ•°ç»„+é“¾è¡¨ï¼Œè¾¹è¶Šå¤šï¼Œé“¾è¡¨è¶Šé•¿ï¼ˆé€‚åˆç¨€ç–å›¾ï¼‰

**å›¾çš„éå†**ï¼š
- æ·±åº¦ä¼˜å…ˆæœç´¢(DFS)ï¼šé€šè¿‡å›æº¯æ–¹æ³•å®ç°
æ·±æœä¸‰éƒ¨æ›²ï¼š
1. ç¡®å®šå‡½æ•°å’Œå‚æ•°
2. ç¡®å®šé€’å½’ç»ˆæ­¢æ¡ä»¶(å­˜æ”¾ç»“æœ)
3. éå†å¤„ç†èŠ‚ç‚¹

- å¹¿åº¦ä¼˜å…ˆæœç´¢(BFS)ï¼šé€šè¿‡FIFIçš„é˜Ÿåˆ—å®ç°

#### 1ã€æ‰€æœ‰å¯è¾¾è·¯å¾„

No.98 (kama)

```java

import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

public class Main {
    static List<List<Integer>> result = new ArrayList<>(); // æ”¶é›†ç¬¦åˆæ¡ä»¶çš„è·¯å¾„
    static List<Integer> path = new ArrayList<>(); // 1èŠ‚ç‚¹åˆ°ç»ˆç‚¹çš„è·¯å¾„

    public static void dfs(int[][] graph, int x, int n) {
        // å½“å‰éå†çš„èŠ‚ç‚¹x åˆ°è¾¾èŠ‚ç‚¹n
        if (x == n) { // æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„ä¸€æ¡è·¯å¾„
            result.add(new ArrayList<>(path));
            return;
        }
        for (int i = 1; i <= n; i++) { // éå†èŠ‚ç‚¹xé“¾æ¥çš„æ‰€æœ‰èŠ‚ç‚¹
            if (graph[x][i] == 1) { // æ‰¾åˆ° xé“¾æ¥çš„èŠ‚ç‚¹
                path.add(i); // éå†åˆ°çš„èŠ‚ç‚¹åŠ å…¥åˆ°è·¯å¾„ä¸­æ¥
                dfs(graph, i, n); // è¿›å…¥ä¸‹ä¸€å±‚é€’å½’
                path.remove(path.size() - 1); // å›æº¯ï¼Œæ’¤é”€æœ¬èŠ‚ç‚¹
            }
        }
    }

    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        int n = scanner.nextInt();
        int m = scanner.nextInt();

        // èŠ‚ç‚¹ç¼–å·ä»1åˆ°nï¼Œæ‰€ä»¥ç”³è¯· n+1 è¿™ä¹ˆå¤§çš„æ•°ç»„
        int[][] graph = new int[n + 1][n + 1];

        for (int i = 0; i < m; i++) {
            int s = scanner.nextInt();
            int t = scanner.nextInt();
            // ä½¿ç”¨é‚»æ¥çŸ©é˜µè¡¨ç¤ºæ— å‘å›¾ï¼Œ1 è¡¨ç¤º s ä¸ t æ˜¯ç›¸è¿çš„
            graph[s][t] = 1;
        }

        path.add(1); // æ— è®ºä»€ä¹ˆè·¯å¾„å·²ç»æ˜¯ä»1èŠ‚ç‚¹å‡ºå‘
        dfs(graph, 1, n); // å¼€å§‹éå†

        // è¾“å‡ºç»“æœ
        if (result.isEmpty()) System.out.println(-1);
        for (List<Integer> pa : result) {
            for (int i = 0; i < pa.size() - 1; i++) {
                System.out.print(pa.get(i) + " ");
            }
            System.out.println(pa.get(pa.size() - 1));
        }
    }
}

```

**æ ¸å¿ƒæ–¹æ³•ï¼šDFS**

**<font color=red>æ³¨æ„ï¼š</font>** 
- ä½¿ç”¨å›æº¯æ–¹æ³•ï¼Œæ¯æ¬¡è®°å½•å¼€å§‹èŠ‚ç‚¹

#### 2ã€å²›å±¿æ•°é‡

No.99 (kama)

```java

// æ·±æœ
import java.util.*;
public class Main {

    public static void main(String[] args) {
    
        Scanner scanner = new Scanner(System.in);
        int row = scanner.nextInt(), col = scanner.nextInt();
        int[][] graph = new int[row][col];
        for (int i = 0; i < row; ++ i)
            for (int j = 0; j < col; ++ j)
                graph[i][j] = scanner.nextInt();
        
        boolean[][] visited = new boolean[row][col];
        int result = 0;
        
        for (int i = 0; i < row; ++ i)
            for (int j = 0; j < col; ++ j) {
                if (graph[i][j] == 1 && !visited[i][j]) {
                    ++ result;
                    visited[i][j] = true;
                    dfs(graph, visited, i, j);
                }
            }
        System.out.println(result);
    }

    private static int[][] dir = { {0,1},{1,0},{-1,0},{0,-1} };

    private static void dfs(int[][] graph, boolean[][] visited, int x, int y) {
        for (int i = 0; i < 4; ++ i) {
            int nextx = x + dir[i][0];
            int nexty = y + dir[i][1];
            if(nexty<0 || nextx<0 || nextx>=graph.length || nexty>=graph[0].length)
                continue;
            if (!visited[nextx][nexty] && graph[nextx][nexty] == 1) {
                visited[nextx][nexty] = true;
                dfs(graph, visited, nextx, nexty);
            }
        }

    }

}

// å¹¿æœ
import java.util.*;

public class Main {

    public static void main(String[] args) {
    
        Scanner scanner = new Scanner(System.in);
        int row = scanner.nextInt(), col = scanner.nextInt();
        int[][] graph = new int[row][col];
        for (int i = 0; i < row; ++ i)
            for (int j = 0; j < col; ++ j)
                graph[i][j] = scanner.nextInt();
        
        boolean[][] visited = new boolean[row][col];
        int result = 0;
        
        for (int i = 0; i < row; ++ i)
            for (int j = 0; j < col; ++ j) {
                if (graph[i][j] == 1 && !visited[i][j]) {
                    ++ result;
                    Deque<Integer[]> queue = new LinkedList<>();
                    queue.offer(new Integer[]{i, j});
                    bfs(graph, visited, queue);
                }
            }
        System.out.println(result);
    }

    private static void bfs(int[][] graph, boolean[][] visited, Deque<Integer[]> queue) {
        int[][] dir = { {0,1},{1,0},{-1,0},{0,-1} };  
        while (!queue.isEmpty()) {
            Integer[] idxs = queue.poll();
            visited[idxs[0]][idxs[1]] = true;
            for (int i = 0; i < 4; ++ i) {
                int nextx = idxs[0] + dir[i][0];
                int nexty = idxs[1] + dir[i][1];
                if(nexty<0 || nextx<0 || nextx>=graph.length || nexty>=graph[0].length)
                    continue;
                if (!visited[nextx][nexty] && graph[nextx][nexty] == 1) {
                    visited[nextx][nexty] = true;
                    queue.offer(new Integer[]{nextx, nexty});
                }
            }      
        }

    }

}
```

**æ ¸å¿ƒæ–¹æ³•ï¼šDFSæˆ–BFS**

**<font color=red>æ³¨æ„ï¼š</font>** 
- ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢æˆ–è€…æ·±åº¦ä¼˜å…ˆæœç´¢

#### 3ã€å²›å±¿æœ€å¤§é¢ç§¯

No.100 (Kama)

```java

...
int maxValue = 0;
        
for (int i = 0; i < row; ++ i)
    for (int j = 0; j < col; ++ j) {
        if (graph[i][j] == 1 && !visited[i][j]) {
            ++ result;
            Deque<Integer[]> queue = new LinkedList<>();
            queue.offer(new Integer[]{i, j});
            int area = bfs(graph, visited, queue);
            maxValue = Math.max(area, maxValue);
        }
    }
...

// åœ¨ä¸Šé“é¢˜åŸºç¡€ä¸Šå°æ”¹ä¸€ä¸‹å³å¯
private static int bfs(int[][] graph, boolean[][] visited, Deque<Integer[]> queue) {
        int area = 1;
        int[][] dir = { {0,1},{1,0},{-1,0},{0,-1} };  
        while (!queue.isEmpty()) {
            Integer[] idxs = queue.poll();
            visited[idxs[0]][idxs[1]] = true;
            for (int i = 0; i < 4; ++ i) {
                int nextx = idxs[0] + dir[i][0];
                int nexty = idxs[1] + dir[i][1];
                if(nexty<0 || nextx<0 || nextx>=graph.length || nexty>=graph[0].length)
                    continue;
                if (!visited[nextx][nexty] && graph[nextx][nexty] == 1) {
                    visited[nextx][nexty] = true;
                    ++ area;
                    queue.offer(new Integer[]{nextx, nexty});
                }
            }      
        }
        return area;

    }

```

**æ ¸å¿ƒæ–¹æ³•ï¼šDFS/BFS**

**<font color=red>æ³¨æ„ï¼š</font>** 
- æ²¡å•¥

#### 4ã€å­¤å²›æ€»é¢ç§¯

No.num

```java

import java.util.*;

public class Main {
    private static int count = 0;
    private static final int[][] dir = { {0, 1}, {1, 0}, {-1, 0}, {0, -1} }; // å››ä¸ªæ–¹å‘

    private static void bfs(int[][] grid, int x, int y) {
        Queue<int[]> que = new LinkedList<>();
        que.add(new int[]{x, y});
        grid[x][y] = 0; // åªè¦åŠ å…¥é˜Ÿåˆ—ï¼Œç«‹åˆ»æ ‡è®°
        count++;
        while (!que.isEmpty()) {
            int[] cur = que.poll();
            int curx = cur[0];
            int cury = cur[1];
            for (int i = 0; i < 4; i++) {
                int nextx = curx + dir[i][0];
                int nexty = cury + dir[i][1];
                if (nextx < 0 || nextx >= grid.length || nexty < 0 || nexty >= grid[0].length) continue; // è¶Šç•Œäº†ï¼Œç›´æ¥è·³è¿‡
                if (grid[nextx][nexty] == 1) {
                    que.add(new int[]{nextx, nexty});
                    count++;
                    grid[nextx][nexty] = 0; // åªè¦åŠ å…¥é˜Ÿåˆ—ç«‹åˆ»æ ‡è®°
                }
            }
        }
    }

    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        int n = scanner.nextInt();
        int m = scanner.nextInt();
        int[][] grid = new int[n][m];
        
        // è¯»å–ç½‘æ ¼
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < m; j++) {
                grid[i][j] = scanner.nextInt();
            }
        }
        
        // ä»å·¦ä¾§è¾¹ï¼Œå’Œå³ä¾§è¾¹å‘ä¸­é—´éå†
        for (int i = 0; i < n; i++) {
            if (grid[i][0] == 1) bfs(grid, i, 0);
            if (grid[i][m - 1] == 1) bfs(grid, i, m - 1);
        }
        
        // ä»ä¸Šè¾¹å’Œä¸‹è¾¹å‘ä¸­é—´éå†
        for (int j = 0; j < m; j++) {
            if (grid[0][j] == 1) bfs(grid, 0, j);
            if (grid[n - 1][j] == 1) bfs(grid, n - 1, j);
        }
        
        count = 0;
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < m; j++) {
                if (grid[i][j] == 1) bfs(grid, i, j);
            }
        }

        System.out.println(count);
    }
}

```

**æ ¸å¿ƒæ–¹æ³•ï¼šBFS**

**<font color=red>æ³¨æ„ï¼š</font>** 
- å°†è¾¹è¾¹ä¸Šçš„å€¼å…¨éƒ¨å½’0ï¼Œå†è®¡ç®—

#### 5ã€æ²‰é»˜å­¤å²›

No.102 (Kama)

```java

import java.util.*;

public class Main {
    static int[][] next = new int[][]{ {-1, 0}, {1, 0}, {0, -1}, {0, 1} };

    private static void dfs(int[][] graph, int x, int y) {
        graph[x][y] = 2;
        for (int i = 0; i < 4; i++) {
            int x2 = x + next[i][0];
            int y2 = y + next[i][1];
            if (x2 < 0 || x2 >= graph.length || y2 < 0 || y2 >= graph[0].length) continue;
            if (graph[x2][y2] == 0 || graph[x2][y2] == 2) continue;
            dfs(graph, x2, y2);
        }
    }

    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        int n = scanner.nextInt();
        int m = scanner.nextInt();
        int[][] graph = new int[n][m];
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < m; j++) {
                graph[i][j] = scanner.nextInt();
            }
        }
        for (int i = 0; i < n; i++) {
            if (graph[i][0] == 1) dfs(graph, i, 0);
            if (graph[i][m - 1] == 1) dfs(graph, i, m - 1);
        }
        for (int j = 0; j < m; j++) {
            if (graph[0][j] == 1) dfs(graph, 0, j);
            if (graph[n - 1][j] == 1) dfs(graph, n - 1, j);
        }
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < m; j++) {
                if (graph[i][j] == 2) System.out.print(1 + " ");
                else System.out.print(0 + " ");
            }
            System.out.println();
        }
    }
}

```

**æ ¸å¿ƒæ–¹æ³•ï¼š**

**<font color=red>æ³¨æ„ï¼š</font>** 
- å°†æ‰€æœ‰éå­¤å²›éƒ¨åˆ†è®¾ä¸º2ï¼Œå°†å…¶ä½™å…¨éƒ¨è®¾ä¸º1
- éå†æ•°ç»„ï¼Œå°†2æ”¹ä¸º1ï¼Œ1æ”¹ä¸º0

#### 6ã€æ°´æµé—®é¢˜

No.103 (Kama)

```java

// è‡ªå·±å†™çš„æš´åŠ›è§£æ³•
import java.util.*;

public class Main {

    public static void main(String[] args) {

        Scanner scanner = new Scanner(System.in);
        int row = scanner.nextInt();
        int col = scanner.nextInt();
        int[][] graph = new int[row][col];

        for (int i = 0; i < row; ++ i)
            for (int j = 0; j < col; ++ j)
                graph[i][j] = scanner.nextInt();
        
        for (int i = 0; i < row; ++ i)
            for (int j = 0; j < col; ++ j)
                if (judge(graph, i, j)) {
                    System.out.println(i+" "+j);
                }

    }

    private static boolean judge(int[][] graph, int x, int y) {
        boolean first = false, second = false;
        int height = graph[x][y];
        Deque<int[]> queue = new LinkedList<int[]>();
        queue.push(new int[]{x,y});
        while (!queue.isEmpty()) {
            int[] cur = queue.poll();
            if (cur[0] == 0 || cur[1] == 0) {
                first = true;
                break;
            }
            if (graph[cur[0]-1][cur[1]] < height)
                queue.push(new int[]{cur[0]-1, cur[1]});
            if (graph[cur[0]][cur[1]-1] < height)
                queue.push(new int[]{cur[0],cur[1]-1});
        }
        queue.clear();
        queue.push(new int[]{x,y});
        while (!queue.isEmpty()) {
            int[] cur = queue.poll();
            if (cur[0] == graph.length-1 || cur[1] == graph[0].length-1) {
                second = true;
                break;
            }
            if (graph[cur[0]+1][cur[1]] < height)
                queue.push(new int[]{cur[0]+1,cur[1]});
            if (graph[cur[0]][cur[1]+1] < height)
                queue.push(new int[]{cur[0],cur[1]+1});
        }
        return (first && second);
    }

}

// kamaç½‘å®˜æ–¹é¢˜è§£
import java.util.Scanner;

public class Main {
    static int[][] next = { {-1, 0}, {0, -1}, {1, 0}, {0, 1}};
    static int n, m;

    static void dfs(int[][] graph, boolean[][] visited, int x, int y) {
        if (visited[x][y]) return;
        visited[x][y] = true;
        for (int i = 0; i < 4; i++) {
            int x2 = x + next[i][0];
            int y2 = y + next[i][1];
            if (x2 < 0 || x2 >= n || y2 < 0 || y2 >= m) continue;
            if (graph[x2][y2] < graph[x][y]) continue;
            dfs(graph, visited, x2, y2);
        }
    }

    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        n = scanner.nextInt();
        m = scanner.nextInt();
        int[][] graph = new int[n][m];
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < m; j++) {
                graph[i][j] = scanner.nextInt();
            }
        }
        boolean[][] border1 = new boolean[n][m];
        boolean[][] border2 = new boolean[n][m];
        for (int i = 0; i < n; i++) {
            dfs(graph, border1, i, 0);
            dfs(graph, border2, i, m - 1);
        }
        for (int j = 0; j < m; j++) {
            dfs(graph, border1, 0, j);
            dfs(graph, border2, n - 1, j);
        }
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < m; j++) {
                if (border1[i][j] && border2[i][j]) {
                    System.out.println(i + " " + j);
                }
            }
        }
    }
}


```

**æ ¸å¿ƒæ–¹æ³•ï¼šDFS/BFS**

**<font color=red>æ³¨æ„ï¼š</font>** 
- å€’æ¢æ€è·¯ï¼Œåªä»è¾¹ä¸Šå¼€å§‹æœç´¢ï¼Œå¹¶ç”¨visitedè®°å½•è®¿é—®è¿‡çš„
- firstå’Œsecondéƒ½è®¿é—®åˆ°çš„ï¼Œå³å¯ä½¿ç”¨