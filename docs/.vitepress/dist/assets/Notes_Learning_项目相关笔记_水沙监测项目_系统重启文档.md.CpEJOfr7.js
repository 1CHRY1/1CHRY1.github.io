import{_ as e,c as s,a2 as t,o}from"./chunks/framework.BLg0S_rR.js";const u=JSON.parse('{"title":"深水航道系统重启文档","description":"","frontmatter":{},"headers":[],"relativePath":"Notes/Learning/项目相关笔记/水沙监测项目/系统重启文档.md","filePath":"Notes/Learning/项目相关笔记/水沙监测项目/系统重启文档.md","lastUpdated":1735027682000}'),n={name:"Notes/Learning/项目相关笔记/水沙监测项目/系统重启文档.md"};function i(r,a,l,c,d,p){return o(),s("div",null,a[0]||(a[0]=[t(`<h1 id="深水航道系统重启文档" tabindex="-1">深水航道系统重启文档 <a class="header-anchor" href="#深水航道系统重启文档" aria-label="Permalink to &quot;深水航道系统重启文档&quot;">​</a></h1><h3 id="_1、启动docker" tabindex="-1">1、启动docker <a class="header-anchor" href="#_1、启动docker" aria-label="Permalink to &quot;1、启动docker&quot;">​</a></h3><h5 id="打开终端使用超级用户并输入密码" tabindex="-1">打开终端使用超级用户并输入密码 <a class="header-anchor" href="#打开终端使用超级用户并输入密码" aria-label="Permalink to &quot;打开终端使用超级用户并输入密码&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>su</span></span></code></pre></div><h5 id="启动dockers服务" tabindex="-1">启动dockers服务 <a class="header-anchor" href="#启动dockers服务" aria-label="Permalink to &quot;启动dockers服务&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>systemctl start docker</span></span></code></pre></div><h3 id="_2、docker使用" tabindex="-1">2、docker使用 <a class="header-anchor" href="#_2、docker使用" aria-label="Permalink to &quot;2、docker使用&quot;">​</a></h3><h5 id="查看已有docker服务" tabindex="-1">查看已有docker服务 <a class="header-anchor" href="#查看已有docker服务" aria-label="Permalink to &quot;查看已有docker服务&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>docker ps -a</span></span></code></pre></div><h5 id="重启其中用于部署深水航道系统的docker-keen-babbage" tabindex="-1">重启其中用于部署深水航道系统的docker（keen_babbage） <a class="header-anchor" href="#重启其中用于部署深水航道系统的docker-keen-babbage" aria-label="Permalink to &quot;重启其中用于部署深水航道系统的docker（keen_babbage）&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>docker restart keen_babbage</span></span></code></pre></div><h5 id="启动docker后-进入docker" tabindex="-1">启动docker后，进入docker <a class="header-anchor" href="#启动docker后-进入docker" aria-label="Permalink to &quot;启动docker后，进入docker&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>docker exec -it keen_babbage /bin/bash</span></span></code></pre></div><h5 id="现在已经进入docker环境中-需要启动系统前后端" tabindex="-1">现在已经进入docker环境中，需要启动系统前后端 <a class="header-anchor" href="#现在已经进入docker环境中-需要启动系统前后端" aria-label="Permalink to &quot;现在已经进入docker环境中，需要启动系统前后端&quot;">​</a></h5><h5 id="进入后端文件目录-usr-monitorapp" tabindex="-1">进入后端文件目录（/usr/monitorApp） <a class="header-anchor" href="#进入后端文件目录-usr-monitorapp" aria-label="Permalink to &quot;进入后端文件目录（/usr/monitorApp）&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>cd /usr/monitorApp</span></span></code></pre></div><h5 id="启动两个系统后端-输入命令行后按两次回车-以便输入下一行" tabindex="-1">启动两个系统后端（输入命令行后按两次回车，以便输入下一行） <a class="header-anchor" href="#启动两个系统后端-输入命令行后按两次回车-以便输入下一行" aria-label="Permalink to &quot;启动两个系统后端（输入命令行后按两次回车，以便输入下一行）&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>nohup java -jar monitorBack.jar &gt; ./monitorBack.out &amp;</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>nohup java -jar stormBack.jar &gt; ./stormBack.out &amp;</span></span></code></pre></div><h5 id="启动系统前端" tabindex="-1">启动系统前端 <a class="header-anchor" href="#启动系统前端" aria-label="Permalink to &quot;启动系统前端&quot;">​</a></h5><h5 id="进入nginx" tabindex="-1">进入nginx <a class="header-anchor" href="#进入nginx" aria-label="Permalink to &quot;进入nginx&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>cd /usr/local/nginx/sbin</span></span></code></pre></div><h5 id="启动nginx" tabindex="-1">启动nginx <a class="header-anchor" href="#启动nginx" aria-label="Permalink to &quot;启动nginx&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>./nginx</span></span></code></pre></div><h5 id="重置nginx配置" tabindex="-1">重置nginx配置 <a class="header-anchor" href="#重置nginx配置" aria-label="Permalink to &quot;重置nginx配置&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>nginx -s reload</span></span></code></pre></div><h3 id="_3、地图服务重启" tabindex="-1">3、地图服务重启 <a class="header-anchor" href="#_3、地图服务重启" aria-label="Permalink to &quot;3、地图服务重启&quot;">​</a></h3><h5 id="进入地图服务文件夹" tabindex="-1">进入地图服务文件夹 <a class="header-anchor" href="#进入地图服务文件夹" aria-label="Permalink to &quot;进入地图服务文件夹&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/run/media/ps/c4cc18ff-fa71-43fb-8a59-06bc37d5c482/ForecastPlatform/localMap/node</span></span></code></pre></div><h5 id="启动地图服务" tabindex="-1">启动地图服务 <a class="header-anchor" href="#启动地图服务" aria-label="Permalink to &quot;启动地图服务&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>node index.js /run/media/ps/c4cc18ff-fa71-43fb-8a59-06bc37d5c482/ForecastPlatform/localMap/baseMap</span></span></code></pre></div><h5 id="地图服务启动成功-不要关闭该命令行窗口" tabindex="-1">地图服务启动成功，不要关闭该命令行窗口！ <a class="header-anchor" href="#地图服务启动成功-不要关闭该命令行窗口" aria-label="Permalink to &quot;地图服务启动成功，不要关闭该命令行窗口！&quot;">​</a></h5><h3 id="_4、其他日常维护操作-均需要进入dockers后在docker内部输入" tabindex="-1">4、其他日常维护操作（均需要进入dockers后在docker内部输入） <a class="header-anchor" href="#_4、其他日常维护操作-均需要进入dockers后在docker内部输入" aria-label="Permalink to &quot;4、其他日常维护操作（均需要进入dockers后在docker内部输入）&quot;">​</a></h3><h5 id="运行每日数据读取" tabindex="-1">运行每日数据读取 <a class="header-anchor" href="#运行每日数据读取" aria-label="Permalink to &quot;运行每日数据读取&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/root/miniconda3/envs/Env1/bin/python /usr/local/resource/StormData/DataProcess/UpdateData.py /usr/local/resource/StormData/DataProcess</span></span></code></pre></div><h5 id="当日数据删除" tabindex="-1">当日数据删除 <a class="header-anchor" href="#当日数据删除" aria-label="Permalink to &quot;当日数据删除&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/root/miniconda3/envs/Env1/bin/python /usr/local/resource/StormData/DataProcess/DeleteTodayData.py /usr/local/resource/StormData/DataProcess</span></span></code></pre></div><h5 id="气象产品更新-卫星云图" tabindex="-1">气象产品更新（卫星云图） <a class="header-anchor" href="#气象产品更新-卫星云图" aria-label="Permalink to &quot;气象产品更新（卫星云图）&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/root/miniconda3/envs/Env1/bin/python /usr/local/resource/StormData/DataProcess/Clawing/Cloud.py /usr/local/resource/StormData/DataProcess/Clawing/Meteorology.db &quot;/usr/local/resource/StormData/qixiangchanpin/weixingyuntu&quot; &quot;/usr/bin/chromedriver&quot;</span></span></code></pre></div><h5 id="气象产品更新-雷达拼图" tabindex="-1">气象产品更新（雷达拼图） <a class="header-anchor" href="#气象产品更新-雷达拼图" aria-label="Permalink to &quot;气象产品更新（雷达拼图）&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/root/miniconda3/envs/Env1/bin/python /usr/local/resource/StormData/DataProcess/Clawing/Radar.py /usr/local/resource/StormData/DataProcess/Clawing/Meteorology.db &quot;/usr/local/resource/StormData/qixiangchanpin/leidapintu&quot; &quot;/usr/bin/chromedriver&quot;</span></span></code></pre></div><h5 id="气象产品更新-降水量实况" tabindex="-1">气象产品更新（降水量实况） <a class="header-anchor" href="#气象产品更新-降水量实况" aria-label="Permalink to &quot;气象产品更新（降水量实况）&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/root/miniconda3/envs/Env1/bin/python /usr/local/resource/StormData/DataProcess/Clawing/Rainfall.py /usr/local/resource/StormData/DataProcess/Clawing/Meteorology.db &quot;/usr/local/resource/StormData/qixiangchanpin/jiangshuiliangshikuang&quot; &quot;/usr/bin/chromedriver&quot;</span></span></code></pre></div><h5 id="气象产品更新-降水量预报" tabindex="-1">气象产品更新（降水量预报） <a class="header-anchor" href="#气象产品更新-降水量预报" aria-label="Permalink to &quot;气象产品更新（降水量预报）&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/root/miniconda3/envs/Env1/bin/python /usr/local/resource/StormData/DataProcess/Clawing/Rainfall_pre.py /usr/local/resource/StormData/DataProcess/Clawing/Meteorology.db &quot;/usr/local/resource/StormData/qixiangchanpin/jiangshuiliangyubao&quot; &quot;/usr/bin/chromedriver&quot;</span></span></code></pre></div><h5 id="清除过往气象产品数据-保留三天之内的数据" tabindex="-1">清除过往气象产品数据（保留三天之内的数据） <a class="header-anchor" href="#清除过往气象产品数据-保留三天之内的数据" aria-label="Permalink to &quot;清除过往气象产品数据（保留三天之内的数据）&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/root/miniconda3/envs/Env1/bin/python /usr/local/resource/StormData/DataProcess/Clawing/DeleteData.py</span></span></code></pre></div><h5 id="运行流场生成脚本" tabindex="-1">运行流场生成脚本 <a class="header-anchor" href="#运行流场生成脚本" aria-label="Permalink to &quot;运行流场生成脚本&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/root/miniconda3/envs/Env1/bin/python /usr/local/resource/StormData/DataProcess/FieldProcess/FieldGenerating.py {当天计算所得adcirc_addwind.nc文件路径，如/usr/local/resource/StormData/forecastData/20240820/adcirc_addwind.nc} /usr/local/resource/StormData/Field</span></span></code></pre></div><h5 id="运行潮位过程生成脚本" tabindex="-1">运行潮位过程生成脚本 <a class="header-anchor" href="#运行潮位过程生成脚本" aria-label="Permalink to &quot;运行潮位过程生成脚本&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/root/miniconda3/envs/Env1/bin/python /usr/local/resource/StormData/DataProcess/FieldProcess/waterLevelCalculating.py {当天计算所得adcirc_addwind.nc文件路径，如/usr/local/resource/StormData/forecastData/20240820/adcirc_addwind.nc} /usr/local/resource/StormData/Field/WaterLevel /usr/local/resource/StormData/DataProcess/FieldProcess/points.json</span></span></code></pre></div><h5 id="重启数据推送后台服务" tabindex="-1">重启数据推送后台服务 <a class="header-anchor" href="#重启数据推送后台服务" aria-label="Permalink to &quot;重启数据推送后台服务&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>lsof -i:9989</span></span>
<span class="line"><span>kill -9 {PID}</span></span>
<span class="line"><span>nohup java -jar /usr/monitorApp/stormBack.jar &gt; ./stormBack.out &amp;</span></span></code></pre></div>`,53)]))}const b=e(n,[["render",i]]);export{u as __pageData,b as default};
